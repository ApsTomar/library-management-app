<app-topnav mini='true'></app-topnav>
<div class="heading">Authors</div>

<div class="options">
    <mat-label class="label">Search Authors:</mat-label>
    <input (keyup)="search($event.target.value)" />
    <div class="addAuthor" *ngIf="authenticationService.currentUserValue.accountRole == 'admin'">
        <button mat-raised-button (click)="openDialog()">add new author</button>
    </div>
</div>

<div class="flex-container">
    <div class="author-list" *ngFor="let author of authors">
        <mat-card class="card">
            <mat-card-header>
                <mat-card-title>{{author.name}}</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <div class="dob"><strong>(Born:&nbsp;&nbsp;</strong> {{author.dateOfBirth}})</div>
                <div class="authorBooks"></div>
                <div class="" *ngIf="authorBooksLoad">
                    <ul class="book-list" *ngFor="let books of bookMap[author.name]">
                        <li>{{books.name}}</li>
                    </ul>
                </div>

            </mat-card-content>
        </mat-card>
    </div>
</div>